###############################################################################
#
# IAR ANSI C/C++ Compiler V8.40.2.214/W32 for ARM         24/Feb/2021  14:27:06
# Copyright 1999-2019 IAR Systems AB.
#
#    Cpu mode     =  
#    Endian       =  little
#    Source file  =  E:\STM32Project\Cubli-with-STM32F429\Cubli\User\src\main.c
#    Command line =
#        -f C:\Users\LABPC1~1\AppData\Local\Temp\EW6C67.tmp
#        (E:\STM32Project\Cubli-with-STM32F429\Cubli\User\src\main.c -D
#        USE_STDPERIPH_DRIVER -D STM32F429_439xx -lC
#        E:\STM32Project\Cubli-with-STM32F429\Cubli\Debug\List -o
#        E:\STM32Project\Cubli-with-STM32F429\Cubli\Debug\Obj --no_cse
#        --no_unroll --no_inline --no_code_motion --no_tbaa --no_clustering
#        --no_scheduling --debug --endian=little --cpu=Cortex-M4 -e --fpu=None
#        --dlib_config "D:\IAR Systems\Embedded Workbench
#        8.3\arm\inc\c\DLib_Config_Normal.h" -I
#        E:\STM32Project\Cubli-with-STM32F429\Cubli\..\STM32F4xx_DSP_StdPeriph_Lib_V1.8.0\Libraries\CMSIS\Device\ST\STM32F4xx\Include\
#        -I
#        E:\STM32Project\Cubli-with-STM32F429\Cubli\..\STM32F4xx_DSP_StdPeriph_Lib_V1.8.0\Libraries\CMSIS\Device\ST\STM32F4xx\Source\Templates\
#        -I
#        E:\STM32Project\Cubli-with-STM32F429\Cubli\..\STM32F4xx_DSP_StdPeriph_Lib_V1.8.0\Libraries\CMSIS\Device\ST\STM32F4xx\Source\Templates\iar\
#        -I
#        E:\STM32Project\Cubli-with-STM32F429\Cubli\..\STM32F4xx_DSP_StdPeriph_Lib_V1.8.0\Libraries\STM32F4xx_StdPeriph_Driver\inc\
#        -I
#        E:\STM32Project\Cubli-with-STM32F429\Cubli\..\STM32F4xx_DSP_StdPeriph_Lib_V1.8.0\Libraries\STM32F4xx_StdPeriph_Driver\src\
#        -I E:\STM32Project\Cubli-with-STM32F429\Cubli\user\inc\ -I
#        E:\STM32Project\Cubli-with-STM32F429\Cubli\user\src\ -Ol
#        --use_c++_inline -I "D:\IAR Systems\Embedded Workbench
#        8.3\arm\CMSIS\Core\Include\" -I "D:\IAR Systems\Embedded Workbench
#        8.3\arm\CMSIS\DSP\Include\")
#    Locale       =  C
#    List file    =
#        E:\STM32Project\Cubli-with-STM32F429\Cubli\Debug\List\main.lst
#    Object file  =
#        E:\STM32Project\Cubli-with-STM32F429\Cubli\Debug\Obj\main.o
#
###############################################################################

E:\STM32Project\Cubli-with-STM32F429\Cubli\User\src\main.c
      1          #include "stm32f4xx.h"
      2          
      3          #include "timer.h"
      4          #include "pwm.h"
      5          

   \                                 In section .text, align 2, keep-with-next
      6          void TM5_Interrupt_Init(void){
   \                     TM5_Interrupt_Init: (+1)
   \        0x0   0xB51F             PUSH     {R0-R4,LR}
      7              TIM_TimeBaseInitTypeDef TIM_BaseStruct;
      8              RCC_APB1PeriphClockCmd(RCC_APB1Periph_TIM5,ENABLE);
   \        0x2   0x2101             MOVS     R1,#+1
   \        0x4   0x2008             MOVS     R0,#+8
   \        0x6   0x....'....        BL       RCC_APB1PeriphClockCmd
      9              TIM_BaseStruct.TIM_Prescaler = 90-1;
   \        0xA   0x2059             MOVS     R0,#+89
   \        0xC   0xF8AD 0x0000      STRH     R0,[SP, #+0]
     10              TIM_BaseStruct.TIM_Period=5000-1;
   \       0x10   0xF241 0x3087      MOVW     R0,#+4999
   \       0x14   0x9001             STR      R0,[SP, #+4]
     11              TIM_BaseStruct.TIM_CounterMode=TIM_CounterMode_Up;
   \       0x16   0x2000             MOVS     R0,#+0
   \       0x18   0xF8AD 0x0002      STRH     R0,[SP, #+2]
     12              TIM_BaseStruct.TIM_ClockDivision=TIM_CKD_DIV1;
   \       0x1C   0x2000             MOVS     R0,#+0
   \       0x1E   0xF8AD 0x0008      STRH     R0,[SP, #+8]
     13              TIM_BaseStruct.TIM_RepetitionCounter=0;
   \       0x22   0x2000             MOVS     R0,#+0
   \       0x24   0xF88D 0x000A      STRB     R0,[SP, #+10]
     14              TIM_TimeBaseInit(TIM5,&TIM_BaseStruct);
   \       0x28   0x....             LDR.N    R4,??DataTable4  ;; 0x40000c00
   \       0x2A   0x4669             MOV      R1,SP
   \       0x2C   0x0020             MOVS     R0,R4
   \       0x2E   0x....'....        BL       TIM_TimeBaseInit
     15              TIM_Cmd(TIM5,ENABLE);
   \       0x32   0x2101             MOVS     R1,#+1
   \       0x34   0x0020             MOVS     R0,R4
   \       0x36   0x....'....        BL       TIM_Cmd
     16              TIM_ClearFlag(TIM5,TIM_FLAG_Update);
   \       0x3A   0x2101             MOVS     R1,#+1
   \       0x3C   0x0020             MOVS     R0,R4
   \       0x3E   0x....'....        BL       TIM_ClearFlag
     17              TIM_ITConfig(TIM5,TIM_IT_Update,ENABLE);
   \       0x42   0x2201             MOVS     R2,#+1
   \       0x44   0x2101             MOVS     R1,#+1
   \       0x46   0x0020             MOVS     R0,R4
   \       0x48   0x....'....        BL       TIM_ITConfig
     18          }
   \       0x4C   0xBD1F             POP      {R0-R4,PC}       ;; return

   \                                 In section .text, align 2, keep-with-next
     19          void NVIC_Set(void){
   \                     NVIC_Set: (+1)
   \        0x0   0xB580             PUSH     {R7,LR}
     20              NVIC_InitTypeDef NVIC_InitStructure;
     21              NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);//0~2
   \        0x2   0xF44F 0x60A0      MOV      R0,#+1280
   \        0x6   0x....'....        BL       NVIC_PriorityGroupConfig
     22              
     23              /*TIM5*/
     24              NVIC_InitStructure.NVIC_IRQChannel = TIM5_IRQn;    
   \        0xA   0x2032             MOVS     R0,#+50
   \        0xC   0xF88D 0x0000      STRB     R0,[SP, #+0]
     25              NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 1;
   \       0x10   0x2001             MOVS     R0,#+1
   \       0x12   0xF88D 0x0001      STRB     R0,[SP, #+1]
     26              NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
   \       0x16   0x2000             MOVS     R0,#+0
   \       0x18   0xF88D 0x0002      STRB     R0,[SP, #+2]
     27              NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;            
   \       0x1C   0x2001             MOVS     R0,#+1
   \       0x1E   0xF88D 0x0003      STRB     R0,[SP, #+3]
     28              NVIC_Init(&NVIC_InitStructure);
   \       0x22   0x4668             MOV      R0,SP
   \       0x24   0x....'....        BL       NVIC_Init
     29              
     30              /*DMA2_Stream7_IRQn Tx*/
     31              
     32              NVIC_InitStructure.NVIC_IRQChannel = DMA2_Stream7_IRQn;
   \       0x28   0x2046             MOVS     R0,#+70
   \       0x2A   0xF88D 0x0000      STRB     R0,[SP, #+0]
     33              NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=2;
   \       0x2E   0x2002             MOVS     R0,#+2
   \       0x30   0xF88D 0x0001      STRB     R0,[SP, #+1]
     34              NVIC_InitStructure.NVIC_IRQChannelSubPriority = 2;
   \       0x34   0x2002             MOVS     R0,#+2
   \       0x36   0xF88D 0x0002      STRB     R0,[SP, #+2]
     35              NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
   \       0x3A   0x2001             MOVS     R0,#+1
   \       0x3C   0xF88D 0x0003      STRB     R0,[SP, #+3]
     36              NVIC_Init(&NVIC_InitStructure);
   \       0x40   0x4668             MOV      R0,SP
   \       0x42   0x....'....        BL       NVIC_Init
     37              
     38              /*DMA2_Stream1_IRQn Rx*/
     39              NVIC_InitStructure.NVIC_IRQChannel = DMA2_Stream1_IRQn;
   \       0x46   0x2039             MOVS     R0,#+57
   \       0x48   0xF88D 0x0000      STRB     R0,[SP, #+0]
     40              NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=2;
   \       0x4C   0x2002             MOVS     R0,#+2
   \       0x4E   0xF88D 0x0001      STRB     R0,[SP, #+1]
     41              NVIC_InitStructure.NVIC_IRQChannelSubPriority = 2;		
   \       0x52   0x2002             MOVS     R0,#+2
   \       0x54   0xF88D 0x0002      STRB     R0,[SP, #+2]
     42              NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;			
   \       0x58   0x2001             MOVS     R0,#+1
   \       0x5A   0xF88D 0x0003      STRB     R0,[SP, #+3]
     43              NVIC_Init(&NVIC_InitStructure);
   \       0x5E   0x4668             MOV      R0,SP
   \       0x60   0x....'....        BL       NVIC_Init
     44              
     45              /*USART6_IRQn Rx*/
     46              NVIC_InitStructure.NVIC_IRQChannel = USART6_IRQn;
   \       0x64   0x2047             MOVS     R0,#+71
   \       0x66   0xF88D 0x0000      STRB     R0,[SP, #+0]
     47              NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=2;
   \       0x6A   0x2002             MOVS     R0,#+2
   \       0x6C   0xF88D 0x0001      STRB     R0,[SP, #+1]
     48              NVIC_InitStructure.NVIC_IRQChannelSubPriority = 2;
   \       0x70   0x2002             MOVS     R0,#+2
   \       0x72   0xF88D 0x0002      STRB     R0,[SP, #+2]
     49              NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
   \       0x76   0x2001             MOVS     R0,#+1
   \       0x78   0xF88D 0x0003      STRB     R0,[SP, #+3]
     50              NVIC_Init(&NVIC_InitStructure);
   \       0x7C   0x4668             MOV      R0,SP
   \       0x7E   0x....'....        BL       NVIC_Init
     51          }
   \       0x82   0xBD01             POP      {R0,PC}          ;; return
     52          

   \                                 In section .text, align 2, keep-with-next
     53          void GPIO_On_Board(void){
   \                     GPIO_On_Board: (+1)
   \        0x0   0xB5E0             PUSH     {R5-R7,LR}
     54              GPIO_InitTypeDef GPIO_InitStructure;
     55              RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOG,ENABLE); //enable GPIOA clock   //
   \        0x2   0x2101             MOVS     R1,#+1
   \        0x4   0x2040             MOVS     R0,#+64
   \        0x6   0x....'....        BL       RCC_AHB1PeriphClockCmd
     56              GPIO_InitStructure.GPIO_Pin = GPIO_Pin_13 | GPIO_Pin_14 ;//| GPIO_Pin_15;
   \        0xA   0xF44F 0x40C0      MOV      R0,#+24576
   \        0xE   0x9000             STR      R0,[SP, #+0]
     57              GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
   \       0x10   0x2001             MOVS     R0,#+1
   \       0x12   0xF88D 0x0004      STRB     R0,[SP, #+4]
     58              GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
   \       0x16   0x2002             MOVS     R0,#+2
   \       0x18   0xF88D 0x0005      STRB     R0,[SP, #+5]
     59              GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
   \       0x1C   0x2000             MOVS     R0,#+0
   \       0x1E   0xF88D 0x0006      STRB     R0,[SP, #+6]
     60              GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_NOPULL;
   \       0x22   0x2000             MOVS     R0,#+0
   \       0x24   0xF88D 0x0007      STRB     R0,[SP, #+7]
     61              GPIO_Init(GPIOG, &GPIO_InitStructure); //enable GPIOA clock
   \       0x28   0x4669             MOV      R1,SP
   \       0x2A   0x....             LDR.N    R0,??DataTable4_1  ;; 0x40021800
   \       0x2C   0x....'....        BL       GPIO_Init
     62              
     63              RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOB,ENABLE); //enable GPIOA clock   //
   \       0x30   0x2101             MOVS     R1,#+1
   \       0x32   0x2002             MOVS     R0,#+2
   \       0x34   0x....'....        BL       RCC_AHB1PeriphClockCmd
     64              GPIO_InitStructure.GPIO_Pin = GPIO_Pin_13;// | GPIO_Pin_14 | GPIO_Pin_15;
   \       0x38   0xF44F 0x5000      MOV      R0,#+8192
   \       0x3C   0x9000             STR      R0,[SP, #+0]
     65              GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
   \       0x3E   0x2001             MOVS     R0,#+1
   \       0x40   0xF88D 0x0004      STRB     R0,[SP, #+4]
     66              GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
   \       0x44   0x2002             MOVS     R0,#+2
   \       0x46   0xF88D 0x0005      STRB     R0,[SP, #+5]
     67              GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
   \       0x4A   0x2000             MOVS     R0,#+0
   \       0x4C   0xF88D 0x0006      STRB     R0,[SP, #+6]
     68              GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_NOPULL;
   \       0x50   0x2000             MOVS     R0,#+0
   \       0x52   0xF88D 0x0007      STRB     R0,[SP, #+7]
     69              GPIO_Init(GPIOB, &GPIO_InitStructure); //enable GPIOA clock   //
   \       0x56   0x4669             MOV      R1,SP
   \       0x58   0x....             LDR.N    R0,??DataTable4_2  ;; 0x40020400
   \       0x5A   0x....'....        BL       GPIO_Init
     70              
     71              RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOD,ENABLE); //enable GPIOA clock   /1/
   \       0x5E   0x2101             MOVS     R1,#+1
   \       0x60   0x2008             MOVS     R0,#+8
   \       0x62   0x....'....        BL       RCC_AHB1PeriphClockCmd
     72              GPIO_InitStructure.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9;
   \       0x66   0xF44F 0x7040      MOV      R0,#+768
   \       0x6A   0x9000             STR      R0,[SP, #+0]
     73              GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
   \       0x6C   0x2001             MOVS     R0,#+1
   \       0x6E   0xF88D 0x0004      STRB     R0,[SP, #+4]
     74              GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
   \       0x72   0x2002             MOVS     R0,#+2
   \       0x74   0xF88D 0x0005      STRB     R0,[SP, #+5]
     75              GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
   \       0x78   0x2000             MOVS     R0,#+0
   \       0x7A   0xF88D 0x0006      STRB     R0,[SP, #+6]
     76              GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_NOPULL;
   \       0x7E   0x2000             MOVS     R0,#+0
   \       0x80   0xF88D 0x0007      STRB     R0,[SP, #+7]
     77              GPIO_Init(GPIOD, &GPIO_InitStructure); //enable GPIOA clock
   \       0x84   0x4669             MOV      R1,SP
   \       0x86   0x....             LDR.N    R0,??DataTable4_3  ;; 0x40020c00
   \       0x88   0x....'....        BL       GPIO_Init
     78          }
   \       0x8C   0xBD07             POP      {R0-R2,PC}       ;; return

   \                                 In section .text, align 2, keep-with-next
     79          void EXTI1_IRQHandler(void) {
   \                     EXTI1_IRQHandler: (+1)
   \        0x0   0xB510             PUSH     {R4,LR}
     80              /* Make sure that interrupt flag is set */
     81              if (EXTI_GetITStatus(EXTI_Line1) != RESET) {
   \        0x2   0x2002             MOVS     R0,#+2
   \        0x4   0x....'....        BL       EXTI_GetITStatus
   \        0x8   0x2800             CMP      R0,#+0
   \        0xA   0xD01B             BEQ.N    ??EXTI1_IRQHandler_0
     82                  /* Do your stuff when PD0 is changed */
     83                  if (flag_stop){
   \        0xC   0x....             LDR.N    R4,??DataTable4_4
   \        0xE   0x6820             LDR      R0,[R4, #+0]
   \       0x10   0x2800             CMP      R0,#+0
   \       0x12   0xD00A             BEQ.N    ??EXTI1_IRQHandler_1
     84                      GPIO_SetBits(GPIOG,GPIO_Pin_13);
   \       0x14   0xF44F 0x5100      MOV      R1,#+8192
   \       0x18   0x....             LDR.N    R0,??DataTable4_1  ;; 0x40021800
   \       0x1A   0x....'....        BL       GPIO_SetBits
     85                      flag_stop = 0;
   \       0x1E   0x2000             MOVS     R0,#+0
   \       0x20   0x6020             STR      R0,[R4, #+0]
     86                      nvic_flag = 1;
   \       0x22   0x2001             MOVS     R0,#+1
   \       0x24   0x....             LDR.N    R1,??DataTable4_5
   \       0x26   0x6008             STR      R0,[R1, #+0]
   \       0x28   0xE009             B.N      ??EXTI1_IRQHandler_2
     87                  }else{
     88                      GPIO_ResetBits(GPIOG,GPIO_Pin_13);
   \                     ??EXTI1_IRQHandler_1: (+1)
   \       0x2A   0xF44F 0x5100      MOV      R1,#+8192
   \       0x2E   0x....             LDR.N    R0,??DataTable4_1  ;; 0x40021800
   \       0x30   0x....'....        BL       GPIO_ResetBits
     89                      flag_stop = 1;
   \       0x34   0x2001             MOVS     R0,#+1
   \       0x36   0x6020             STR      R0,[R4, #+0]
     90                      nvic_flag = 0;
   \       0x38   0x2000             MOVS     R0,#+0
   \       0x3A   0x....             LDR.N    R1,??DataTable4_5
   \       0x3C   0x6008             STR      R0,[R1, #+0]
     91                  }
     92                  /* Clear interrupt flag */
     93                  EXTI_ClearITPendingBit(EXTI_Line1);
   \                     ??EXTI1_IRQHandler_2: (+1)
   \       0x3E   0x2002             MOVS     R0,#+2
   \       0x40   0x....'....        BL       EXTI_ClearITPendingBit
     94              }
     95          }
   \                     ??EXTI1_IRQHandler_0: (+1)
   \       0x44   0xBD10             POP      {R4,PC}          ;; return
     96          /* Configure pins to be interrupts */

   \                                 In section .text, align 2, keep-with-next
     97          void Configure_PA1(void) {
   \                     Configure_PA1: (+1)
   \        0x0   0xB500             PUSH     {LR}
   \        0x2   0xB085             SUB      SP,SP,#+20
     98              /*EXTI0_IRQn	EXTI0_IRQHandler	    Handler for pins connected to line 0
     99              EXTI1_IRQn	    EXTI1_IRQHandler	    Handler for pins connected to line 1
    100              EXTI2_IRQn	    EXTI2_IRQHandler	    Handler for pins connected to line 2
    101              EXTI3_IRQn	    EXTI3_IRQHandler	    Handler for pins connected to line 3
    102              EXTI4_IRQn	    EXTI4_IRQHandler	    Handler for pins connected to line 4
    103              EXTI9_5_IRQn	EXTI9_5_IRQHandler	    Handler for pins connected to line 5 to 9
    104              EXTI15_10_IRQn	EXTI15_10_IRQHandler	Handler for pins connected to line 10 to 15*/
    105              /* Set variables used */
    106              GPIO_InitTypeDef GPIO_InitStruct;
    107              EXTI_InitTypeDef EXTI_InitStruct;
    108              NVIC_InitTypeDef NVIC_InitStruct;
    109              
    110              /* Enable clock for GPIOD */
    111              RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOA, ENABLE);
   \        0x4   0x2101             MOVS     R1,#+1
   \        0x6   0x2001             MOVS     R0,#+1
   \        0x8   0x....'....        BL       RCC_AHB1PeriphClockCmd
    112              /* Enable clock for SYSCFG */
    113              RCC_APB2PeriphClockCmd(RCC_APB2Periph_SYSCFG, ENABLE);
   \        0xC   0x2101             MOVS     R1,#+1
   \        0xE   0xF44F 0x4080      MOV      R0,#+16384
   \       0x12   0x....'....        BL       RCC_APB2PeriphClockCmd
    114              
    115              /* Set pin as input */
    116              
    117              GPIO_InitStruct.GPIO_Pin = GPIO_Pin_1;
   \       0x16   0x2002             MOVS     R0,#+2
   \       0x18   0x9001             STR      R0,[SP, #+4]
    118              GPIO_InitStruct.GPIO_Mode = GPIO_Mode_IN;
   \       0x1A   0x2000             MOVS     R0,#+0
   \       0x1C   0xF88D 0x0008      STRB     R0,[SP, #+8]
    119              GPIO_InitStruct.GPIO_OType = GPIO_OType_PP;
   \       0x20   0x2000             MOVS     R0,#+0
   \       0x22   0xF88D 0x000A      STRB     R0,[SP, #+10]
    120              GPIO_InitStruct.GPIO_PuPd = GPIO_PuPd_DOWN;
   \       0x26   0x2002             MOVS     R0,#+2
   \       0x28   0xF88D 0x000B      STRB     R0,[SP, #+11]
    121              GPIO_InitStruct.GPIO_Speed = GPIO_Speed_100MHz;
   \       0x2C   0x2003             MOVS     R0,#+3
   \       0x2E   0xF88D 0x0009      STRB     R0,[SP, #+9]
    122              GPIO_Init(GPIOA, &GPIO_InitStruct);
   \       0x32   0xA901             ADD      R1,SP,#+4
   \       0x34   0x....             LDR.N    R0,??DataTable4_6  ;; 0x40020000
   \       0x36   0x....'....        BL       GPIO_Init
    123              
    124              /* Tell system that you will use PD0 for EXTI_Line0 */
    125              SYSCFG_EXTILineConfig(EXTI_PortSourceGPIOA, EXTI_PinSource1);
   \       0x3A   0x2101             MOVS     R1,#+1
   \       0x3C   0x2000             MOVS     R0,#+0
   \       0x3E   0x....'....        BL       SYSCFG_EXTILineConfig
    126              
    127              /* PD0 is connected to EXTI_Line0 */
    128              EXTI_InitStruct.EXTI_Line = EXTI_Line1;
   \       0x42   0x2002             MOVS     R0,#+2
   \       0x44   0x9003             STR      R0,[SP, #+12]
    129              /* Enable interrupt */
    130              EXTI_InitStruct.EXTI_LineCmd = ENABLE;
   \       0x46   0x2001             MOVS     R0,#+1
   \       0x48   0xF88D 0x0012      STRB     R0,[SP, #+18]
    131              /* Interrupt mode */
    132              EXTI_InitStruct.EXTI_Mode = EXTI_Mode_Interrupt;
   \       0x4C   0x2000             MOVS     R0,#+0
   \       0x4E   0xF88D 0x0010      STRB     R0,[SP, #+16]
    133              /* Triggers on rising and falling edge */
    134              EXTI_InitStruct.EXTI_Trigger = EXTI_Trigger_Falling;
   \       0x52   0x200C             MOVS     R0,#+12
   \       0x54   0xF88D 0x0011      STRB     R0,[SP, #+17]
    135              /* Add to EXTI */
    136              EXTI_Init(&EXTI_InitStruct);
   \       0x58   0xA803             ADD      R0,SP,#+12
   \       0x5A   0x....'....        BL       EXTI_Init
    137              
    138              /* Add IRQ vector to NVIC */
    139              /* PD0 is connected to EXTI_Line0, which has EXTI0_IRQn vector */
    140              NVIC_InitStruct.NVIC_IRQChannel = EXTI1_IRQn;
   \       0x5E   0x2007             MOVS     R0,#+7
   \       0x60   0xF88D 0x0000      STRB     R0,[SP, #+0]
    141              /* Set priority */
    142              NVIC_InitStruct.NVIC_IRQChannelPreemptionPriority = 0x00;
   \       0x64   0x2000             MOVS     R0,#+0
   \       0x66   0xF88D 0x0001      STRB     R0,[SP, #+1]
    143              /* Set sub priority */
    144              NVIC_InitStruct.NVIC_IRQChannelSubPriority = 0x00;
   \       0x6A   0x2000             MOVS     R0,#+0
   \       0x6C   0xF88D 0x0002      STRB     R0,[SP, #+2]
    145              /* Enable interrupt */
    146              NVIC_InitStruct.NVIC_IRQChannelCmd = ENABLE;
   \       0x70   0x2001             MOVS     R0,#+1
   \       0x72   0xF88D 0x0003      STRB     R0,[SP, #+3]
    147              /* Add to NVIC */
    148              NVIC_Init(&NVIC_InitStruct);
   \       0x76   0x4668             MOV      R0,SP
   \       0x78   0x....'....        BL       NVIC_Init
    149          }
   \       0x7C   0xB005             ADD      SP,SP,#+20
   \       0x7E   0xBD00             POP      {PC}             ;; return

   \                                 In section .bss, align 4
    150          int a,b,c;
   \                     a:
   \        0x0                      DS8 4

   \                                 In section .bss, align 4
   \                     `b`:
   \        0x0                      DS8 4

   \                                 In section .bss, align 4
   \                     c:
   \        0x0                      DS8 4
    151          

   \                                 In section .text, align 2, keep-with-next
    152          void main(void){
   \                     main: (+1)
   \        0x0   0xB580             PUSH     {R7,LR}
    153              systick_setup();
   \        0x2   0x....'....        BL       systick_setup
    154              flag_stop = 1;
   \        0x6   0x2001             MOVS     R0,#+1
   \        0x8   0x....             LDR.N    R1,??DataTable4_4
   \        0xA   0x6008             STR      R0,[R1, #+0]
    155              nvic_flag = 0;
   \        0xC   0x2000             MOVS     R0,#+0
   \        0xE   0x....             LDR.N    R1,??DataTable4_5
   \       0x10   0x6008             STR      R0,[R1, #+0]
    156              GPIO_On_Board();//A:B13,B:D8,C:D9
   \       0x12   0x....'....        BL       GPIO_On_Board
    157              usart1_init(115200);
   \       0x16   0xF45F 0x30E1      MOVS     R0,#+115200
   \       0x1A   0x....'....        BL       usart1_init
    158              
    159              IIC_GPIO_Init();
   \       0x1E   0x....'....        BL       IIC_GPIO_Init
    160              MPU6050_Init();//    get_mpu_id();
   \       0x22   0x....'....        BL       MPU6050_Init
    161              get_iir_factor(&Mpu.att_acc_factor,0.005f,25);
   \       0x26   0x....             LDR.N    R2,??DataTable4_7  ;; 0x41c80000
   \       0x28   0x....             LDR.N    R1,??DataTable4_8  ;; 0x3ba3d70a
   \       0x2A   0x....             LDR.N    R0,??DataTable4_9
   \       0x2C   0x....'....        BL       get_iir_factor
    162              
    163              TM2_PWM_Init();//servo
   \       0x30   0x....'....        BL       TM2_PWM_Init
    164              TIM2->CCR1=2000;//PA0
   \       0x34   0xF44F 0x60FA      MOV      R0,#+2000
   \       0x38   0x....             LDR.N    R1,??DataTable4_10  ;; 0x40000034
   \       0x3A   0x6008             STR      R0,[R1, #+0]
    165              TIM2->CCR3=1700;//PB10
   \       0x3C   0xF240 0x60A4      MOVW     R0,#+1700
   \       0x40   0x....             LDR.N    R1,??DataTable4_11  ;; 0x4000003c
   \       0x42   0x6008             STR      R0,[R1, #+0]
    166              TIM2->CCR4=1700;//PB11
   \       0x44   0x....             LDR.N    R1,??DataTable4_12  ;; 0x40000040
   \       0x46   0x6008             STR      R0,[R1, #+0]
    167              Delay(150);
   \       0x48   0x2096             MOVS     R0,#+150
   \       0x4A   0x....'....        BL       Delay
    168              
    169              TIM1_EncoderInterface_Init();//A
   \       0x4E   0x....'....        BL       TIM1_EncoderInterface_Init
    170              TIM3_EncoderInterface_Init();//B
   \       0x52   0x....'....        BL       TIM3_EncoderInterface_Init
    171              TIM4_EncoderInterface_Init();//C
   \       0x56   0x....'....        BL       TIM4_EncoderInterface_Init
    172              Delay(5);
   \       0x5A   0x2005             MOVS     R0,#+5
   \       0x5C   0x....'....        BL       Delay
    173              TM8_PWM_Init();
   \       0x60   0x....'....        BL       TM8_PWM_Init
    174              TM5_Interrupt_Init();
   \       0x64   0x....'....        BL       TM5_Interrupt_Init
    175              Configure_PA1();
   \       0x68   0x....'....        BL       Configure_PA1
    176              NVIC_Set();
   \       0x6C   0x....'....        BL       NVIC_Set
    177              
    178              Delay(1000);
   \       0x70   0xF44F 0x707A      MOV      R0,#+1000
   \       0x74   0x....'....        BL       Delay
    179          //    flag_stop = 0;
    180          //    nvic_flag = 1;
    181              
    182          //    TIM8->CCR1 = 8999*0.4;//A PC6
    183          //    Delay(1000);
    184          //    TIM8->CCR2 = 8999*0.8;//B PC7
    185          //    Delay(1000);
    186          //    TIM8->CCR3 = 8999*0.4;//C PC8
    187              
    188              
    189              while(1){
   \                     ??main_0: (+1)
   \       0x78   0xE7FE             B.N      ??main_0
    190          //          GPIO_SetBits(GPIOG,GPIO_Pin_13);
    191          //          Delay(100);
    192          //          GPIO_ResetBits(GPIOG,GPIO_Pin_13);
    193          //          Delay(100);
    194                  //  printf("%d",usart1_read(a));
    195          //          GPIO_SetBits(GPIOB,GPIO_Pin_13);  //A
    196          //          GPIO_ResetBits(GPIOB,GPIO_Pin_13);
    197                  //  
    198          //          GPIO_SetBits(GPIOD,GPIO_Pin_8);  //B
    199          //          GPIO_ResetBits(GPIOD,GPIO_Pin_8);
    200                  //  
    201          //          GPIO_SetBits(GPIOD,GPIO_Pin_9);  //C
    202          //          GPIO_ResetBits(GPIOD,GPIO_Pin_9);
    203                  //  
    204                  //  TIM8->CCR1 = 5500;//A
    205                  //  TIM8->CCR2 = 5500;//B
    206                  //  TIM8->CCR3 = 5500;//C
    207                  ////  GPIO_SetBits(GPIOB,GPIO_Pin_13);
    208                  //  GPIO_ResetBits(GPIOB,GPIO_Pin_13);//A
    209                  //  
    210                  ////  GPIO_SetBits(GPIOD,GPIO_Pin_8);
    211                  //  GPIO_ResetBits(GPIOD,GPIO_Pin_8);//B
    212                  //  
    213                  ////  GPIO_SetBits(GPIOD,GPIO_Pin_9);
    214                  //  GPIO_ResetBits(GPIOD,GPIO_Pin_9);//C
    215                  //  
    216          //          TIM8->CCR1 = 10;//A
    217          //          TIM8->CCR2 = 10;//B
    218          //          TIM8->CCR3 = 10;//C
    219          //          Delay(100);
    220          //          TIM8->CCR1 = 0;//A
    221          //          TIM8->CCR2 = 0;//B
    222          //          TIM8->CCR3 = 0;//C
    223          //          Delay(1900);
    224          //          TIM8->CCR1 = 5500;//A
    225          //          TIM8->CCR2 = 5500;//B
    226          //          TIM8->CCR3 = 5500;//C
    227          //          Delay(2000);
    228                  //  
    229                  //  GPIO_SetBits(GPIOB,GPIO_Pin_13);//A
    230                  ////  GPIO_ResetBits(GPIOB,GPIO_Pin_13);
    231                  //  
    232                  //  GPIO_SetBits(GPIOD,GPIO_Pin_8);//B
    233                  ////  GPIO_ResetBits(GPIOD,GPIO_Pin_8);
    234                  //  
    235          //          GPIO_SetBits(GPIOD,GPIO_Pin_9);//C
    236                  ////  GPIO_ResetBits(GPIOD,GPIO_Pin_9);
    237                  //  TIM8->CCR1 = 10;//A
    238                  //  TIM8->CCR2 = 10;//B
    239                  //  TIM8->CCR3 = 10;//C
    240                  //  Delay(100);
    241                  //  TIM8->CCR1 = 0;//A
    242                  //  TIM8->CCR2 = 0;//B
    243                  //  TIM8->CCR3 = 0;//C
    244          //          Delay(1900);
    245                  
    246                  //    printf("%d",TIM12->CNT);
    247                  
    248                  //  TIM8->CCR1 = 1000;
    249                  //  TIM8->CCR2 = 1500;
    250                  //  TIM8->CCR3 = 2000;Delay(3000);
    251                  
    252                  
    253                  //  TIM8->CCR3=-800;Delay(3000);
    254                  //  
    255                  //    if(att.rol<-80){//jump up
    256                  ////      Delay(3000);
    257                  //////      nvic_flag = 0;
    258                  //////      PWM_a =0;
    259                  //////      set_pwm_a(PWM_a);
    260                  ////      TIM2->CCR1=1400;//1500;
    261                  //////      Delay(50);
    262                  //////      nvic_flag = 1;
    263                  ////      Delay(200);
    264                  ////      TIM2->CCR1=2000;
    265                  ////      Delay(200);
    266                  //    }else if(att.rol>-27){//jump up
    267                  //      Delay(3000);
    268                  ////      nvic_flag = 0;
    269                  ////      PWM_a =0;
    270                  ////      set_pwm_a(PWM_a);
    271                  //      TIM2->CCR1=1400;//1500;
    272                  ////      Delay(50);
    273                  ////      nvic_flag = 1;
    274                  //      Delay(200);
    275                  //      TIM2->CCR1=2000;
    276                  //      Delay(150);
    277                  //    }
    278              }
    279          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4:
   \        0x0   0x4000'0C00        DC32     0x40000c00

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_1:
   \        0x0   0x4002'1800        DC32     0x40021800

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_2:
   \        0x0   0x4002'0400        DC32     0x40020400

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_3:
   \        0x0   0x4002'0C00        DC32     0x40020c00

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_4:
   \        0x0   0x....'....        DC32     flag_stop

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_5:
   \        0x0   0x....'....        DC32     nvic_flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_6:
   \        0x0   0x4002'0000        DC32     0x40020000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_7:
   \        0x0   0x41C8'0000        DC32     0x41c80000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_8:
   \        0x0   0x3BA3'D70A        DC32     0x3ba3d70a

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_9:
   \        0x0   0x....'....        DC32     Mpu+0x24

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_10:
   \        0x0   0x4000'0034        DC32     0x40000034

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_11:
   \        0x0   0x4000'003C        DC32     0x4000003c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_12:
   \        0x0   0x4000'0040        DC32     0x40000040

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      24   Configure_PA1
        24   -> EXTI_Init
        24   -> GPIO_Init
        24   -> NVIC_Init
        24   -> RCC_AHB1PeriphClockCmd
        24   -> RCC_APB2PeriphClockCmd
        24   -> SYSCFG_EXTILineConfig
       8   EXTI1_IRQHandler
         8   -> EXTI_ClearITPendingBit
         8   -> EXTI_GetITStatus
         8   -> GPIO_ResetBits
         8   -> GPIO_SetBits
      16   GPIO_On_Board
        16   -> GPIO_Init
        16   -> RCC_AHB1PeriphClockCmd
       8   NVIC_Set
         8   -> NVIC_Init
         8   -> NVIC_PriorityGroupConfig
      24   TM5_Interrupt_Init
        24   -> RCC_APB1PeriphClockCmd
        24   -> TIM_ClearFlag
        24   -> TIM_Cmd
        24   -> TIM_ITConfig
        24   -> TIM_TimeBaseInit
       8   main
         8   -> Configure_PA1
         8   -> Delay
         8   -> GPIO_On_Board
         8   -> IIC_GPIO_Init
         8   -> MPU6050_Init
         8   -> NVIC_Set
         8   -> TIM1_EncoderInterface_Init
         8   -> TIM3_EncoderInterface_Init
         8   -> TIM4_EncoderInterface_Init
         8   -> TM2_PWM_Init
         8   -> TM5_Interrupt_Init
         8   -> TM8_PWM_Init
         8   -> get_iir_factor
         8   -> systick_setup
         8   -> usart1_init


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable4
       4  ??DataTable4_1
       4  ??DataTable4_10
       4  ??DataTable4_11
       4  ??DataTable4_12
       4  ??DataTable4_2
       4  ??DataTable4_3
       4  ??DataTable4_4
       4  ??DataTable4_5
       4  ??DataTable4_6
       4  ??DataTable4_7
       4  ??DataTable4_8
       4  ??DataTable4_9
     128  Configure_PA1
      70  EXTI1_IRQHandler
     142  GPIO_On_Board
     132  NVIC_Set
      78  TM5_Interrupt_Init
       4  a
       4  b
       4  c
     122  main

 
  12 bytes in section .bss
 724 bytes in section .text
 
 724 bytes of CODE memory
  12 bytes of DATA memory

Errors: none
Warnings: none
